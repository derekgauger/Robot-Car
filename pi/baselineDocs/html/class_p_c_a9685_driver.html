<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ImageStreamingRobot: PCA9685Driver Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ImageStreamingRobot
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_p_c_a9685_driver.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="class_p_c_a9685_driver-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">PCA9685Driver Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for PCA9685Driver:</div>
<div class="dyncontent">
<div class="center"><img src="class_p_c_a9685_driver__coll__graph.png" border="0" usemap="#a_p_c_a9685_driver_coll__map" alt="Collaboration graph"/></div>
<map name="a_p_c_a9685_driver_coll__map" id="a_p_c_a9685_driver_coll__map">
<area shape="rect" title=" " alt="" coords="27,95,147,121"/>
<area shape="rect" href="classse3910_r_pi_1_1_i2_c_device.html" title="Generic I2C Device class that can be used to connect to any type of I2C device and read or write to i..." alt="" coords="5,5,169,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa16968e51c3b88e3210c2de741c44e72"><td class="memItemLeft" align="right" valign="top"><a id="aa16968e51c3b88e3210c2de741c44e72"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setPwm</b> (unsigned int channel, uint16_t onTime, uint16_t offTime)</td></tr>
<tr class="separator:aa16968e51c3b88e3210c2de741c44e72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8fd5a221a19981a1fde6e30ed6b7a9f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_c_a9685_driver.html#af8fd5a221a19981a1fde6e30ed6b7a9f">setDutyCycle</a> (unsigned int channel, uint16_t percent)</td></tr>
<tr class="separator:af8fd5a221a19981a1fde6e30ed6b7a9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4a4287d0e36d1b6dc2adb4f3af07773"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_c_a9685_driver.html#af4a4287d0e36d1b6dc2adb4f3af07773">setFrequency</a> (uint32_t freq)</td></tr>
<tr class="separator:af4a4287d0e36d1b6dc2adb4f3af07773"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a403373f05ec16a20d5a84c03cd1d8b0d"><td class="memItemLeft" align="right" valign="top"><a id="a403373f05ec16a20d5a84c03cd1d8b0d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>init</b> ()</td></tr>
<tr class="separator:a403373f05ec16a20d5a84c03cd1d8b0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a366661d4e7887989fb275fa37d2452fb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_c_a9685_driver.html#a366661d4e7887989fb275fa37d2452fb">shutdown</a> ()</td></tr>
<tr class="separator:a366661d4e7887989fb275fa37d2452fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a99b432e362ff5c183eb4bf75d55c9998"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_p_c_a9685_driver.html">PCA9685Driver</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_c_a9685_driver.html#a99b432e362ff5c183eb4bf75d55c9998">obtainPCA9685Instance</a> (uint16_t device)</td></tr>
<tr class="separator:a99b432e362ff5c183eb4bf75d55c9998"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a2675b02b860ec7cb694a09a911a993b8"><td class="memItemLeft" align="right" valign="top"><a id="a2675b02b860ec7cb694a09a911a993b8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>PCA9685Driver</b> (uint16_t deviceAddress)</td></tr>
<tr class="separator:a2675b02b860ec7cb694a09a911a993b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:abd062c2761e3dcdd63892c7790bf6983"><td class="memItemLeft" align="right" valign="top"><a id="abd062c2761e3dcdd63892c7790bf6983"></a>
<a class="el" href="classse3910_r_pi_1_1_i2_c_device.html">se3910RPi::I2CDevice</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>device</b></td></tr>
<tr class="separator:abd062c2761e3dcdd63892c7790bf6983"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8821b4e4f1dcd6cfd191cb0770cf7a99"><td class="memItemLeft" align="right" valign="top"><a id="a8821b4e4f1dcd6cfd191cb0770cf7a99"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>address</b></td></tr>
<tr class="separator:a8821b4e4f1dcd6cfd191cb0770cf7a99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acada72cadb34549d1b4b95b745f1565c"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_c_a9685_driver.html#acada72cadb34549d1b4b95b745f1565c">count</a></td></tr>
<tr class="separator:acada72cadb34549d1b4b95b745f1565c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a903ce9d2fbe718bd8c7b823070e04930"><td class="memItemLeft" align="right" valign="top">static std::map&lt; uint16_t, <a class="el" href="class_p_c_a9685_driver.html">PCA9685Driver</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_c_a9685_driver.html#a903ce9d2fbe718bd8c7b823070e04930">deviceMaps</a></td></tr>
<tr class="separator:a903ce9d2fbe718bd8c7b823070e04930"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a99b432e362ff5c183eb4bf75d55c9998"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99b432e362ff5c183eb4bf75d55c9998">&#9670;&nbsp;</a></span>obtainPCA9685Instance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_p_c_a9685_driver.html">PCA9685Driver</a> * PCA9685Driver::obtainPCA9685Instance </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method will obtain an instance of an I2C device. If the device ID already has been created, it will return the existing instance after incrementing the count. If the device does not exist, a new instance will be instantiated. </p>
<p>Lock the mutex to prevent simultaneous access here.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_p_c_a9685_driver_a99b432e362ff5c183eb4bf75d55c9998_icgraph.png" border="0" usemap="#aclass_p_c_a9685_driver_a99b432e362ff5c183eb4bf75d55c9998_icgraph" alt=""/></div>
<map name="aclass_p_c_a9685_driver_a99b432e362ff5c183eb4bf75d55c9998_icgraph" id="aclass_p_c_a9685_driver_a99b432e362ff5c183eb4bf75d55c9998_icgraph">
<area shape="rect" title=" " alt="" coords="288,5,515,47"/>
<area shape="rect" href="class_motor_controller.html#ad81d79a68f44e39a4fda88d8353828f5" title=" " alt="" coords="5,13,240,39"/>
</map>
</div>

</div>
</div>
<a id="af8fd5a221a19981a1fde6e30ed6b7a9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8fd5a221a19981a1fde6e30ed6b7a9f">&#9670;&nbsp;</a></span>setDutyCycle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PCA9685Driver::setDutyCycle </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>percent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method will set the width of the given pulse. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">percent</td><td>This is the percent of the duty cycle, multipled by 10. A value of 10 represents 10%. A value of 1 represents .1%.</td></tr>
  </table>
  </dd>
</dl>
<p>This method will set the width of the given pulse. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">width</td><td>The width is the time the pulse will be on, given in us. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_p_c_a9685_driver_af8fd5a221a19981a1fde6e30ed6b7a9f_icgraph.png" border="0" usemap="#aclass_p_c_a9685_driver_af8fd5a221a19981a1fde6e30ed6b7a9f_icgraph" alt=""/></div>
<map name="aclass_p_c_a9685_driver_af8fd5a221a19981a1fde6e30ed6b7a9f_icgraph" id="aclass_p_c_a9685_driver_af8fd5a221a19981a1fde6e30ed6b7a9f_icgraph">
<area shape="rect" title=" " alt="" coords="263,5,477,32"/>
<area shape="rect" href="class_motor_controller.html#a2cf7071a284bbe1aef655c677f0bf460" title=" " alt="" coords="5,5,215,32"/>
</map>
</div>

</div>
</div>
<a id="af4a4287d0e36d1b6dc2adb4f3af07773"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4a4287d0e36d1b6dc2adb4f3af07773">&#9670;&nbsp;</a></span>setFrequency()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PCA9685Driver::setFrequency </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>freq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method will set the frequency for the PWM module driven by this device. @freq This is the frequency, given in hertz. </p>

</div>
</div>
<a id="a366661d4e7887989fb275fa37d2452fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a366661d4e7887989fb275fa37d2452fb">&#9670;&nbsp;</a></span>shutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PCA9685Driver::shutdown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Lock this method to prevent multiple threads from being in here simultaneously, as things could go wrong.</p>
<p>Decrement the count indicating there is one less usage of this object.</p>
<p>Remove it from the map.</p>
<p>Delete the instance</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="acada72cadb34549d1b4b95b745f1565c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acada72cadb34549d1b4b95b745f1565c">&#9670;&nbsp;</a></span>count</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t PCA9685Driver::count</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is a count of how many devices are using this particular I2C Device. </p>

</div>
</div>
<a id="a903ce9d2fbe718bd8c7b823070e04930"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a903ce9d2fbe718bd8c7b823070e04930">&#9670;&nbsp;</a></span>deviceMaps</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; uint16_t, <a class="el" href="class_p_c_a9685_driver.html">PCA9685Driver</a> * &gt; PCA9685Driver::deviceMaps</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This map will hold the mappings between the channels and the instances. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/media/sf_lwshare/2022LabSolutions/lab9/pi/src/<a class="el" href="_p_c_a9685_driver_8h_source.html">PCA9685Driver.h</a></li>
<li>/media/sf_lwshare/2022LabSolutions/lab9/pi/src/PCA9685Driver.cpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_p_c_a9685_driver.html">PCA9685Driver</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
